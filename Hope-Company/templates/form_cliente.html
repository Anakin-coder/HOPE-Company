<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cadastrar cliente</title>
        <link rel="stylesheet" type="text/css" href="/static/clientes.css"></link>
        <script type="text/javascript">
            function validar() {
                const nome = document.getElementById('nome');
                const sexo_masc = document.getElementById('sexo_masc');
                const sexo_fem = document.getElementById('sexo_fem');
                const telefone = document.getElementById('telefone');
                const endereco = document.getElementById('endereco');

                if (nome.value === '') {
                    alert("Preencha o nome.");
                    return false;
                }
                if (!sexo_masc.checked && !sexo_fem.checked) {
                    alert("Escolha o sexo.");
                    return false;
                }
                if (telefone.value === '') {
                    alert("Preencha o telefone.");
                    return false;
                }
                if (endereco.value === '') {
                    alert("Preencha o endereço.");
                    return false;
                }
                return true;
            }

            function salvar() {
                if (!validar()) return;
                document.getElementById("form_principal").submit();
            }
        </script>
    </head>
    <body>
        <form action="/cliente/{{id_cliente}}" method="POST" id="form_principal">
            {% if id_cliente != 'novo'%}
                <p>
                    <label>Id:</label>
                    {{id_cliente}}
                </p>
            {% endif %}
            <p>
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" autocomplete="off" value="{{nome}}" />
            </p>

            <p>
                <label for="telefone">Telefone:</label>:</label>
                <input type="text" id="telefone" name="telefone" autocomplete="off" value="{{telefone}}" />
            </p>

            <p>
                <label for="endereco">Endereço:</label>:</label>
                <input type="text" id="endereco" name="endereco" autocomplete="off" value="{{endereco}}" />
            </p>


            <p>
                <label>Sexo:</label>
                <input type="radio" id="sexo_masc" name="sexo" value="M" {% if sexo == 'M' %}checked="checked"{% endif %}>Masculino</input>
                <input type="radio" id="sexo_fem" name="sexo" value="F" {% if sexo == 'F' %}checked="checked"{% endif %}>Feminino</input>
            </p>
            <p>
                <button type="button" onclick="javascript:salvar();">Salvar</button>
                <a href="/" class="botao">Voltar</a>
            </p>
        </form>
    </body>
</html>
